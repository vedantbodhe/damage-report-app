# .ebextensions/01-packages.config

packages:
  # On Amazon Linux 2023, 'dnf' is the package manager.
  dnf:
    # Tesseract OCR (plus German language pack)
    tesseract
    tesseract-langpack-deu

    # ZBar (for pyzbar barcode scanning) and its development headers
    zbar
    zbar-devel

    # Development libraries so that Pillow can build and handle JPEG/PNG/etc.
    libjpeg-turbo-devel
    libpng-devel
    freetype-devel
    libtiff-devel
    libwebp-devel

commands:
  # Ensure 'tesseract' is on the PATH where pytesseract expects it.
  01_set_tesseract_path:
    command: "ln -sf /usr/bin/tesseract /usr/local/bin/tesseract || true"